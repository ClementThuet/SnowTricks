{% extends 'base.html.twig' %}

{% block title %}Accueil - SnowTricks{% endblock %}
{% block body %}
    {% block content %}
        <div class="container-fluid" id='header' style="background-image: url('{{asset('img/WP_snow1.jpg')}}')">
            <div class="row" >
                <div class="col-12">
                    <nav class="navbar navbar-expand-lg navbar-ST" >
                    <a class="navbar-brand navbar-brand-homepage-ST" href="">SnowTricks</a>
                    <div class="collapse navbar-collapse navigation-menu" id="navbarSupportedContent" >
                      <ul class="navbar-nav ">
                        <li class="nav-item active ">
                          <a class=" nav-link-homepage-ST " href="/">Les figures <span class="sr-only">(current)</span></a>
                        </li>
                        {%if app.user %}
                            <li class="nav-item">
                              <a class=" nav-link-homepage-ST"  href="/deconnexion">Déconnexion</a>
                            </li>
                        {% else %}
                            <li class="nav-item">
                                <a class=" nav-link-homepage-ST" href="/inscription">S'inscrire</a>
                            </li>
                            <li class="nav-item">
                              <a class=" nav-link-homepage-ST"  href="/connexion">Connexion</a>
                            </li>
                        {%endif%}
                        {#{%if is_granted('IS_AUTHENTICATED_FULLY') == true %}
                            <li class="nav-item">
                              <span class="nav-link nav-link-ST">Bienvenue {{ app.user.prenom}} {{ app.user.nom}}</span>
                            </li>
                        {%endif%}#}
                      </ul>
                    </div>
                  </nav>
                </div>
            </div>
        </div>
       
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <h1 class="ST-title">Bienvenue sur Snowtricks</h1>
                    <h2 class="ST-title">Venez découvrir tout ce qu'il y a à savoir sur le snowboard </h2>
                    <h3 class="ST-title">Les figures</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    {% for message in app.flashes('successDeleteTrick') %}
                        <div class="alert alert-success">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
                {%if figures is defined%}
                        {% for figure in figures %}
                            <div class="col-2">
                                <a href="figure/{{figure.nom}}">
                                    <div class="media-trick">
                                        <h4 class="ST-title">{{figure.nom}}</h4>
                                        {%if figure.mainPicture.url is defined %}
                                            <img class="img-trick" src="{{figure.mainPicture.url}}" alt="{{figure.mainPicture.alt}}">
                                        {%else%}
                                            <img class="img-trick" src="{{asset('img/default-image.jpg')}}" alt="Image par défaut">
                                        {%endif%}
                                        <br>
                                        <div class="glyph-container">
                                            <a href="/modifier-une-figure/{{figure.id}}">
                                                <i class="material-icons glyphicon-media">create</i>
                                            </a>
                                            <a href="/supprimer-une-figure/{{figure.id}}">
                                               <i class="material-icons glyphicon-remove">clear</i>
                                            </a>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        {%endfor%}
                {%endif%}
                
            </div>
        </div>
        <div class="bt-add-trick">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            <a href="/ajouter-une-figure"><i class="material-icons">add</i></a>
            <span>Ajouter une figure</span>
        </div>            
    {% endblock %}
{% endblock %}